# auto-tag-anict メタデータ管理ツール

アニメのMP4ファイルのメタデータを[Annict](https://annict.com)のデータを使用して自動的に更新するツールです。

## 機能

- Annictからアニメ情報の自動取得
- エピソードタイトルの取得と設定
- ファイル名の自動更新
- iTunesと互換性のあるメタデータ設定
- TVシリーズと劇場版の両方に対応

## 必要条件

- Python 3.6以上
- Annictのアクセストークン
- 必要なPythonパッケージ（requirements.txtを参照）

## セットアップ

1. 必要なパッケージのインストール:
```bash
pip install -r requirements.txt
```

2. Annictのアクセストークンを設定（2つの方法）:

   A. `.env`ファイルを作成:
   ```bash
   ANNICT_TOKEN=あなたのAnnictアクセストークン
   ```

   B. コマンドライン引数で指定:
   ```bash
   python main.py --token あなたのAnnictアクセストークン
   ```

アクセストークンは[Annict開発者ページ](https://annict.com/settings/apps)から取得できます。

## 使い方

1. スクリプトを実行（2つの方法）:
```bash
# .envファイルを使用する場合
python main.py

# トークンを直接指定する場合
python main.py --token あなたのAnnictアクセストークン
```

2. プロンプトに従って情報を入力:
   - アニメのタイトル
   - 検索結果から該当するアニメを選択
   - MP4ファイルのあるディレクトリパス（TVシリーズの場合）
   - または個別のMP4ファイルパス（劇場版の場合）

## コマンドラインオプション

| オプション | 説明 |
|------------|------|
| --token    | Annict APIのアクセストークンを指定します。.envファイルよりも優先されます。 |

## メタデータ設定内容

- タイトル: エピソードタイトルまたは映画タイトル
- アルバム: アニメタイトル
- トラック番号: エピソード番号
- TVシリーズ情報:
  - TVショー名
  - シーズン番号
  - エピソード番号
- ジャンル: "TV Show"または"Movie"

## 注意事項

- ファイル名に使用できない文字は自動的に全角文字に変換されます
- 劇場版の場合は個別ファイルのみの処理となります
- 既存のメタデータは上書きされます
- コマンドライン引数のトークンは.envファイルの設定よりも優先されます 